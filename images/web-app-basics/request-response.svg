<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 480">
  <!-- Background -->
  <rect width="800" height="480" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="400" y="35" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="18" fill="#333" text-anchor="middle">リクエストとレスポンスの流れ</text>
  <text x="400" y="58" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="12" fill="#888" text-anchor="middle">— カフェでコーヒーを注文するとき —</text>
  
  <!-- Step 1 -->
  <g transform="translate(40, 90)">
    <rect x="0" y="0" width="720" height="100" rx="6" fill="#fff" stroke="#ddd" stroke-width="1"/>
    
    <circle cx="35" cy="25" r="14" fill="none" stroke="#333" stroke-width="1.5"/>
    <text x="35" y="30" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">1</text>
    <text x="60" y="30" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="14" fill="#333">リクエスト（注文する）</text>
    
    <!-- Customer icon -->
    <g transform="translate(80, 65)">
      <circle cx="0" cy="0" r="18" fill="none" stroke="#555" stroke-width="1.5"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="#555" stroke-width="1.5"/>
      <path d="M -10,8 Q 0,18 10,8" fill="none" stroke="#555" stroke-width="1.5"/>
    </g>
    <text x="80" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">お客さん</text>
    
    <!-- Arrow -->
    <line x1="120" y1="65" x2="520" y2="65" stroke="#555" stroke-width="1.5"/>
    <polygon points="530,65 515,60 515,70" fill="#555"/>
    
    <!-- Message bubble -->
    <rect x="230" y="45" width="220" height="28" rx="14" fill="#fff" stroke="#555" stroke-width="1"/>
    <text x="340" y="64" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="11" fill="#333" text-anchor="middle">ホットコーヒーをください！</text>
    
    <!-- Staff icon -->
    <g transform="translate(580, 65)">
      <circle cx="0" cy="0" r="18" fill="none" stroke="#555" stroke-width="1.5"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="#555" stroke-width="1.5"/>
      <path d="M -10,8 Q 0,18 10,8" fill="none" stroke="#555" stroke-width="1.5"/>
      <line x1="-12" y1="-12" x2="12" y2="-12" stroke="#555" stroke-width="1.5"/>
    </g>
    <text x="580" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">店員さん</text>
  </g>
  
  <!-- Step 2 -->
  <g transform="translate(40, 210)">
    <rect x="0" y="0" width="720" height="100" rx="6" fill="#fff" stroke="#ddd" stroke-width="1"/>
    
    <circle cx="35" cy="25" r="14" fill="none" stroke="#333" stroke-width="1.5"/>
    <text x="35" y="30" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">2</text>
    <text x="60" y="30" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="14" fill="#333">処理（準備する）</text>
    
    <!-- Staff icon -->
    <g transform="translate(150, 65)">
      <circle cx="0" cy="0" r="18" fill="none" stroke="#555" stroke-width="1.5"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="#555" stroke-width="1.5"/>
      <path d="M -10,8 Q 0,18 10,8" fill="none" stroke="#555" stroke-width="1.5"/>
      <line x1="-12" y1="-12" x2="12" y2="-12" stroke="#555" stroke-width="1.5"/>
    </g>
    <text x="150" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">店員さん</text>
    
    <!-- Bidirectional arrows -->
    <line x1="190" y1="55" x2="420" y2="55" stroke="#555" stroke-width="1.5"/>
    <polygon points="430,55 415,50 415,60" fill="#555"/>
    <text x="310" y="48" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="10" fill="#666" text-anchor="middle">コーヒー豆を取ってきて</text>
    
    <line x1="430" y1="75" x2="200" y2="75" stroke="#555" stroke-width="1.5"/>
    <polygon points="190,75 205,70 205,80" fill="#555"/>
    <text x="310" y="90" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="10" fill="#666" text-anchor="middle">はい、ブレンド豆です</text>
    
    <!-- Kitchen icon -->
    <g transform="translate(480, 65)">
      <rect x="-25" y="-20" width="50" height="35" rx="3" fill="none" stroke="#555" stroke-width="1.5"/>
      <line x1="-20" y1="-8" x2="20" y2="-8" stroke="#555" stroke-width="1"/>
      <line x1="-20" y1="2" x2="20" y2="2" stroke="#555" stroke-width="1"/>
      <circle cx="15" cy="10" r="3" fill="#555"/>
    </g>
    <text x="480" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">厨房・倉庫</text>
  </g>
  
  <!-- Step 3 -->
  <g transform="translate(40, 330)">
    <rect x="0" y="0" width="720" height="100" rx="6" fill="#fff" stroke="#ddd" stroke-width="1"/>
    
    <circle cx="35" cy="25" r="14" fill="none" stroke="#333" stroke-width="1.5"/>
    <text x="35" y="30" font-family="sans-serif" font-size="14" fill="#333" text-anchor="middle">3</text>
    <text x="60" y="30" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="14" fill="#333">レスポンス（受け取る）</text>
    
    <!-- Customer icon -->
    <g transform="translate(80, 65)">
      <circle cx="0" cy="0" r="18" fill="none" stroke="#555" stroke-width="1.5"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="#555" stroke-width="1.5"/>
      <path d="M -10,8 Q 0,18 10,8" fill="none" stroke="#555" stroke-width="1.5"/>
    </g>
    <text x="80" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">お客さん</text>
    
    <!-- Arrow (reverse) -->
    <line x1="520" y1="65" x2="120" y2="65" stroke="#555" stroke-width="1.5"/>
    <polygon points="110,65 125,60 125,70" fill="#555"/>
    
    <!-- Message bubble -->
    <rect x="220" y="45" width="240" height="28" rx="14" fill="#fff" stroke="#555" stroke-width="1"/>
    <text x="340" y="64" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="11" fill="#333" text-anchor="middle">お待たせしました、コーヒーです！</text>
    
    <!-- Staff icon -->
    <g transform="translate(580, 65)">
      <circle cx="0" cy="0" r="18" fill="none" stroke="#555" stroke-width="1.5"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="#555" stroke-width="1.5"/>
      <path d="M -10,8 Q 0,18 10,8" fill="none" stroke="#555" stroke-width="1.5"/>
      <line x1="-12" y1="-12" x2="12" y2="-12" stroke="#555" stroke-width="1.5"/>
    </g>
    <text x="580" y="95" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="9" fill="#888" text-anchor="middle">店員さん</text>
  </g>
  
  <!-- Bottom note -->
  <text x="400" y="465" font-family="'Hiragino Kaku Gothic Pro', sans-serif" font-size="12" fill="#666" text-anchor="middle">💡 この「リクエスト → 処理 → レスポンス」がWebアプリの基本</text>
</svg>
